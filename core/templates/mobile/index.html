{% extends 'mobile/base.html' %}
{% block content %}
<h2 style="font-size: 24px; font-weight: 900; margin-bottom: 25px;">Ближайшие уроки</h2>

{% for lesson in lessons %}
<a href="{% url 'edit_lesson' lesson.id %}" style="text-decoration: none; color: inherit; display: block; margin-bottom: 12px;">
    <div style="background: white; border-radius: 20px; padding: 18px; box-shadow: 0 4px 10px rgba(0,0,0,0.02); border: 1px solid #f1f5f9; display: flex; align-items: center; gap: 15px;">

        <div style="background: #eef2ff; color: var(--p); min-width: 55px; height: 55px; border-radius: 16px; display: flex; flex-direction: column; align-items: center; justify-content: center;">
            <span style="font-weight: 900; font-size: 14px;">{{ lesson.start_time|date:"H:i" }}</span>
            <span style="font-size: 10px; font-weight: 700; opacity: 0.6;">{{ lesson.start_time|date:"d.m" }}</span>
        </div>

        <div style="flex-grow: 1;">
            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 4px;">
                <span style="font-size: 11px; font-weight: 800; color: var(--p); text-transform: uppercase;">{{ lesson.subject.name|default:lesson.subject }}</span>
                <span style="font-weight: 900; font-size: 14px;">{{ lesson.price|floatformat:0 }} ₽</span>
            </div>
            <div style="font-weight: 800; font-size: 17px; display: flex; align-items: center; gap: 6px;">
                {{ lesson.student.first_name }}
            </div>
        </div>

        <i class="fas fa-chevron-right" style="color: #e2e8f0; font-size: 14px;"></i>
    </div>
</a>
{% endfor %}
<a href="{% url 'add_lesson' %}" class="mobile-fab">
    <i class="fas fa-plus"></i>
</a>

<style>
    .mobile-fab {
        position: fixed;
        bottom: 30px;
        right: 25px;
        width: 65px;
        height: 65px;
        background: #6366f1; /* Твой основной цвет */
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 26px;
        box-shadow: 0 10px 25px rgba(99, 102, 241, 0.5);
        text-decoration: none;
        z-index: 9999;
    }
</style>
{% endblock %}